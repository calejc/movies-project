<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:insert="fragments :: header"></div>
<link th:href="@{/styles/card-view.css}" rel="stylesheet">

<div class="container">
    <div class="row no-gutters justify-content-center mx-auto">
        <div class="col-lg-9 card-container">
            <div class="card-flip">
                <div class="card back">
                    <div class="row">
                        <div class="col-lg-4 mx-auto">
                            <img class="card-img-left img-fluid img-thumbnail rounded m-3" th:src="${actor.photoUrl}">
                        </div>
                        <div class="col-lg-8">
                            <div class="flex-row-reverse float-right">
                                <a class="cardFlipTrigger"><i class="fa fa-chevron-left" aria-hidden="true"></i>
                                    Filmography <i class="fa fa-chevron-right" aria-hidden="true"></i>
                                </a>
                                <div class="row mx-auto my-3 justify-content-center">
                                    <a th:class="${not update} ? 'notAuthorized' : ''" th:href="'/edit-actor?id=' + ${actor.id}">
                                        <i class="fa fa-edit fa-3x"></i></a>
                                    <a th:class="${not delete} ? 'notAuthorized' : ''" th:href="'/delete-actor?id=' + ${actor.id}" th:object="${actor}" onclick="return confirm('Are you sure you want to delete this actor?')"><i
                                            class="fa fa-trash-o fa-3x" aria-hidden="true"></i></a>
                                </div>
                            </div>
                            <div class="row mx-3 my-3 justify-content-left">
                                <h1 id="cardTitle" class="card-title pt-2 pb-3 mt-3" th:text="${actor.name}">></h1>


                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="card-text" th:text="${actor.biography}"></div>
                    </div>
                </div>
                <div class="card front">
                    <div class="flex-row float-right">
                        <a class="cardFlipTrigger float-right"><i class="fa fa-chevron-left" aria-hidden="true"></i>
                            Actor Details <i class="fa fa-chevron-right" aria-hidden="true"></i></a>
                    </div>
                    <h1 class="card-title">Filmography</h1>
                    <div class="card-body">
                        <div class="row" th:each="movie: ${actor.movies}">
                            <div class="col-lg-2 mx-auto my-2">
                                <a th:href="'/movie/' + ${movie.id}"><img class="img-fluid mw-100"
                                                                          th:src="${movie.photoUrl}"></a>
                            </div>
                            <div class="col-lg-10 mx-auto my-auto">
                                <a th:href="'/movie/' + ${movie.id}"><h3 class="mx-auto my-auto"
                                                                         th:text="${movie.title}"></h3></a>
                            </div>
                            <hr class="my-2">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div th:insert="fragments :: footer"></div>
<script th:src="@{/scripts/actor-cards.js}"></script>
</html>
