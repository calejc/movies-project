<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:insert="fragments :: header">HEADER STUFF</div>

<!--NOTE: Generated url format movies?page=1&size=10  -->
<div class="container">

    <div class="row mx-auto my-2 py-3">
        <h3>Movies</h3>
    </div>
    <nav aria-label="Page navigation">
        <ul class="pagination">
            <li th:class="${firstPage} ? 'disabled page-item' : 'page-item'">
                <a th:class="page-link"
                   th:href="@{${'/movie'}(page=1,size=${moviePage.size})}"> << </a>
            </li>

            <li th:class="${firstPage} ? 'disabled page-item' : 'page-item'">
                <a th:if="${firstPage}" th:class="page-link"> < </a>
                <a th:if="${not firstPage}" th:class="page-link"
                   th:href="@{${'/movie'}(page=${currentPage-1},size=${moviePage.size})}"> < </a>
            </li>
            <li th:if="${moviePage.totalPages > 0}" th:class="${pgNumber==moviePage.number + 1} ? 'active page-item' : 'page-item'" th:each="pgNumber: ${pageRange}">
                <a th:href="@{/movie(size=${moviePage.size}, page=${pgNumber})}"
                   th:text=${pgNumber}
                   th:class="page-link"></a>
            </li>

            <li th:class="${lastPage} ? 'disabled page-item' : 'page-item'">
                <a th:if="${lastPage}" th:class="page-link"> > </a>
                <a th:if="${not lastPage}" th:class="page-link"
                   th:href="@{${'/movie'}(page=${currentPage+1},size=${moviePage.size})}"> > </a>
            </li>

            <li th:class="${lastPage} ? 'disabled page-item' : 'page-item'">
                <a th:if="${lastPage}" th:class="page-link"> >> </a>
                <a th:if="${not lastPage}" th:class="page-link"
                   th:href="@{${'/movie'}(page=${totalPages},size=${moviePage.size})}"> >> </a>
            </li>
        </ul>
    </nav>
    <div class="row mx-auto my-auto py-auto">
        <div class="card-deck">
            <div class="card result-card m-2" th:each="movie: ${moviePage.content}">
                <a th:href=" '/movie/' + ${movie.id}"><img class="rounded img-fluid" th:src="${movie.photoUrl}"></a>
                <div class="card-body">
                    <a th:href=" '/movie/' + ${movie.id}"><h5 class="card-title" th:text="${movie.title}"></h5></a>
                </div>
            </div>
        </div>
    </div>
</div>
<div th:insert="fragments :: footer">FOOTER STUFF</div>
</html>